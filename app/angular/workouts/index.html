<div id="workoutsBg"></div>
<div id="workouts" ng-controller="workoutsController"]>
<div class="container">
    <div class="row">
        <div class="col-xs-12">
            <h2 id="workoutsHeader" class="ef-header">
                professional workouts
            </h2>

            <div class="row">
                <div class="col-xs-12 col-sm-6">
                    <div class="row">
                        <div class="col-xs-10">
                            <tags-input ng-model="videoSearch" class="bootstrap"
                                        placeholder="Example: Title, tags, etc..."
                                        name="pattern" value="" display-property="name" on-tag-removed="onDeleteTag($tag)" on-tag-added="onTagAdd($tag)">
                                <auto-complete source="loadVideoTitles($query)" min-length="1"></auto-complete>
                            </tags-input>
                        </div>
                        <button id="searchButton" ng-click="filter()" type="button" class="btn btn-default">
                            <span class="fa fa-chevron-right"></span>
                        </button>
                    </div>
                    <div class="page-header">
                        <h2 class="entry-title">level of fitness</h2>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6 col-lg-4">
                            <div class="form-space">
                                <button class="col-xs-12 btn toggle beginner difficulties"
                                        ng-class="{difficultySelected: difficultySelected['beginner']}" id='beginner'
                                        ng-click="difficultyOnClick('beginner')">
                                    beginner
                                    <span class="difficulty beginner"></span>
                                </button>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-6 col-lg-4">
                            <div class="form-space">
                                <button class="col-xs-12 btn toggle intermediate difficulties"
                                        ng-class="{difficultySelected: difficultySelected['intermediate']}" id='intermediate'
                                        ng-click="difficultyOnClick('intermediate')">
                                    intermediate
                                    <span class="difficulty intermediate"></span>
                                </button>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-6 col-lg-4">
                            <div class="form-space">
                                <button class="col-xs-12 btn toggle advanced difficulties"
                                        ng-class="{difficultySelected: difficultySelected['advanced']}" id='advanced'
                                        ng-click="difficultyOnClick('advanced')">
                                    advanced
                                    <span class="difficulty advanced"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-12 col-sm-6">
                    <div class="page-header" style="margin-top: 0px;">
                        <h2 class="entry-title" style="margin-top: 0px;">popular categories</h2>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <span ng-repeat="tag in tags.results"
                                  class="tag tag-blue tag-click"
                                  ng-click="addTag(tag)">
                                {{tag.name}}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="page-header">
                <h2 class="entry-title">popular views</h2>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-6">
                    <div class="col-xs-6 col-lg-4" ng-repeat="video in videos">
                        <div class="ef-workout-video">
                            <a ui-sref="workouts.video(video)"><img
                                    ng-src="http://beta.liveeverfit.com/media/{{ video.img }}" /></a>
                        </div>
                        <a ui-sref="workouts.video(video)">
                            <div class="workout-title">
                                <span class="ellipsis">{{ video.title }}</span>
                                <span class="difficulty {{ video.difficulty }} pull-right"></span>
                            </div>
                        </a>
                    </div>
                    <button ng-show="next" id="showMore" type="button" class="btn btn-primary btn-lg btn-block" ng-click="getPros()">Show More</button>
                </div>
                <div class="col-xs-12 col-sm-6">
                    <div ng-switch="videoStatus" style="min-height: 650px;">
                        <div class="row">
                            <div ng-switch-default class="col-xs-12">
                                <div class="workout-video-shadow">
                                    <iframe width="100%" onload="handleIframe(this)"
                                            src="//www.youtube.com/embed/seat1hVbhdE?modestbranding=1&amp;showinfo=0"
                                            frameborder="0" allowfullscreen="" class="ef-video class"></iframe>
                                </div>
                            </div>
                            <div ng-switch-when="loading" class="col-xs-12">
                                Loading
                            </div>
                            <div ng-switch-when="difficultySelected" class="col-xs-12">
                                <div class="workout-video-shadow">
                                    <video id="selectedVideo"
                                           width="640" height="480"
                                           class="video-js vjs-default-skin vjs-big-play-centered vjs-lef" controls
                                           preload="auto"
                                           poster="http://beta.liveeverfit.com/media/{{video.img}}"
                                           data-setup='{"techOrder": ["flash", "html5"]}'>
                                        <source ng-src='{{video.rtmp_url}}'
                                                type='rtmp/mp4'/>
                                        <source ng-src='{{video.http_url}}'
                                                type='video/mp4'/>
                                    </video>
                                </div>
                                <header class="page-header">
                                    <span class="blue">{{video.title}}</span>
                                    <br>
                                    <small>
                                        Views: <span class="blue">{{video.views}}</span>
                                        <span class="pull-right"><i class="fa fa-thumbs-o-up blue"></i>&NonBreakingSpace;
                                            {{ video.likes }}</span>
                                    </small>
                                </header>
                                <div class="row">
                                    <div class="col-xs-9">
                                        <small>
                                            Tags:
                                        </small>
                                        <span ng-repeat="tag in video.video_tags"
                                           class="tag tag-blue tag-click"
                                           ng-click="addTag(tag)">
                                            {{ video.video_tags }}
                                        </span>
                                    </div>
                                    <div class=" col-xs-3">
                                        <button type="button" class="btn btn-primary" style="width: 100%">
                                            {{video.like}}
                                            <span class="fa"
                                                  ng-class="{'fa-thumbs-o-up': (video.like == 'like'), 'fa-thumbs-o-down': (video.like == 'unlike')}">

                                                  </span>
                                        </button>
                                    </div>
                                </div>
                                <div class="lead">
                                    <span class="blue">Description: </span>
                                    {{ video.description }}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
